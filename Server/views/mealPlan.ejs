<%- include("super-common-header.ejs") %>

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" 
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
          crossorigin="anonymous">
</head>

<h1>Meal plan:</h1>

<style>
    table {
        width: 90%;
        border-collapse: collapse;
        margin-left: auto;
        margin-right: auto;
    }

    th, td {
        padding: 10px;
        text-align: center;
        border: 1px solid #ddd;
    }

    h1 {
        margin-left: 10%;
    }
</style>

<table>
    <tr>
        <th>Sunday</th>
        <th>Monday</th>
        <th>Tuesday</th>
        <th>Wednesday</th>
        <th>Thursday</th>
        <th>Friday</th>
        <th>Saturday</th>
    </tr>
    <tr>
        <% if (mealPlan) { %>
            <% Object.keys(mealPlan).forEach(function(day) { %>
                <td>
                    <% if (mealPlan[day]) { %>
                        <a href="/recipes/<%= mealPlan[day].id %>">
                            <div>
                                <h5><%= mealPlan[day].title %></h5>
                                <img src="<%= mealPlan[day].imageUri %>" alt="<%= mealPlan[day].title %>" style="width: 100px; height: 100px; object-fit: cover;">
                                <p>Servings: <%= mealPlan[day].servings %></p>
                                <p>Ready in: <%= mealPlan[day].readyInMinutes %> minutes</p>
                            </div>
                        </a>
                    <% } else { %>
                        <p>No meals for this day, go to Home to browse and add recipes.</p>
                    <% } %>
                </td>
            <% }); %>
        <% } else { %>
            <td colspan="7">No meal plan available for this week.</td>
        <% } %>
    </tr>
</table>
